<div class="dashboard-layout">
		<app-header-toolbar
			[incidents]="incidents"
			[selectedIncident]="selectedIncident"
			[mapMode]="mapMode"
			[forecastHour]="forecastHour"
			[priority]="priority"
			(incidentChange)="onIncidentChange($event)"
			(mapModeChange)="onMapModeChange($event)"
			(forecastHourChange)="onForecastHourChange($event)"
			(priorityChange)="priority = $event"
		/>
	<div class="dashboard-main">
			<app-victim-prioritization-list
				[clusters]="clusters"
				[priority]="priority"
				[loading]="loadingVictimClusters"
				(assignResponder)="onAssignResponder($event)"
				(addNote)="onAddNote($event)"
			/>
			<app-central-map-panel
				[hazardZones]="hazardZones"
				[hazardPredictions]="hazardPredictions"
				[victimClusters]="mapVictimClusters"
				[showIndividualVictims]="victimViewMode === 'individual'"
				[responders]="responders"
				[routes]="routes"
				[facilities]="facilities"
				[predictionTimestamp]="predictionTimestamp"
				[mapMode]="mapMode"
				[mapCenter]="mapCenter"
				(predictionTimestampChange)="predictionTimestamp = $event"
			/>
		<app-right-panel-ai-assistant
			[summary]="aiSummary"
			[responderQuery]="responderQuery"
			(responderQueryChange)="onResponderQueryChange($event)"
			(submitQuery)="onSubmitResponderQuery()"
		/>
	</div>
	<app-footer-notification-panel
		[events]="notificationEvents"
		[filter]="notificationFilter"
		(filterChange)="onNotificationFilterChange($event)"
		(markAsRead)="onMarkNotificationAsRead($event)"
		(markAllRead)="onMarkAllNotificationsRead()"
	/>
</div>
